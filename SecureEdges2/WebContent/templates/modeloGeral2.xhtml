<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<ui:insert name="metadata" />

<f:metadata>
	<f:event listener="#{temperaturaBean.pegarvalor}" type="preRenderView" />
</f:metadata>



<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Secure Edges</title>
</h:head>

<h:body>
	<p:growl id="msgGlobal" />
	<p:layout fullPage="true">

		<p:layoutUnit position="north" size="100" header="Secure Edges"
			resizable="false" closable="false" collapsible="false">

			<h:form id="frmMenuSuperior">
				<p:tabMenu rendered="true" activeIndex="-1">
					<p:menuitem value="Sair"
						rendered="#{autenticacaoBean.usuarioLogado.status != null}"
						action="#{autenticacaoBean.sair}" update=":msgGlobal">
					</p:menuitem>

					<p:menuitem value="Graficos"
						outcome="/Pages/relatorio/relatorio.xhtml?faces-redirect=true"
						rendered="#{autenticacaoBean.usuarioLogado.status == 'admin'}">
					</p:menuitem>
					<p:menuitem value="Autenticar"
						action="/Pages/usuario/autenticacao.xhtml?faces-redirect=true"
						rendered="#{autenticacaoBean.usuarioLogado.status == null}">

					</p:menuitem>

					<p:menuitem value="Relatorio de Gastos"
						action="/Pages/log/relatorioGastos.xhtml?faces-redirect=true"
						rendered="#{autenticacaoBean.usuarioLogado.status != null}">

					</p:menuitem>
					
					



				</p:tabMenu>

			</h:form>

		</p:layoutUnit>

		<p:layoutUnit position="west" size="250" header="Menu administrativo"
			resizable="false" closable="false" collapsible="false">
			<h:form id="frmMenuPrincipal">
				<p:panelMenu id="pnlMenuPrincipal">
					<p:submenu label="Cadastros" id="lbl"
						rendered="#{autenticacaoBean.usuarioLogado.status == 'admin'}">
						<p:menuitem value="Tipo Dispositivo"
							outcome="/Pages/tp_dispositivo/tipoDispositivoPesquisa.xhtml" />
						<p:menuitem value="Dispositivos"
							outcome="/Pages/dispositivo/dispositivoPesquisa.xhtml" />
						<p:menuitem value="Usuários"
							outcome="/Pages/usuario/usuarioPesquisa.xhtml" />
						<p:menuitem value="Comodos"
							outcome="/Pages/comodo/comodoPesquisa.xhtml" />
					</p:submenu>
					<p:submenu label="Solicitações">
						<p:menuitem value="Visualizar Todas"
							rendered="#{autenticacaoBean.usuarioLogado.status == 'admin'}"
							outcome="/Pages/solicitacao/solicitacaoPesquisa.xhtml" />
						<p:menuitem value="Solicitar"
							outcome="/Pages/solicitacao/solicitacaoCadastro.xhtml"
							rendered="#{autenticacaoBean.usuarioLogado.status == 'admin' or autenticacaoBean.usuarioLogado.status == 'ativo' }" />
						<p:menuitem value="Meus Dispositivos"
							outcome="/Pages/dispositivo/dispositivosAprovados.xhtml"
							rendered="#{autenticacaoBean.usuarioLogado.status == 'admin' or autenticacaoBean.usuarioLogado.status == 'ativo' }" />
						<p:menuitem value="Minhas Solicitaçoes"
							outcome="/Pages/solicitacao/solicitacoesMinhas.xhtml"
							rendered="#{autenticacaoBean.usuarioLogado.status == 'admin' or autenticacaoBean.usuarioLogado.status == 'ativo' }" />
					</p:submenu>


				</p:panelMenu>
				<h:outputLabel value="Umidade: "></h:outputLabel>
				<h:outputLabel value="#{temperaturaBean.umidade}"></h:outputLabel>
				<br></br>
				<h:outputLabel value="Temperatura: "></h:outputLabel>
				<h:outputLabel value="#{temperaturaBean.temperatura}"></h:outputLabel>
			</h:form>
		</p:layoutUnit>

		<!--     <p:layoutUnit position="east" size="200" header="direita" resizable="false" closable="false" collapsible="false" effect="drop"> -->
		<!--         <h:outputText value="Right unit content." /> -->
		<!--     </p:layoutUnit> -->

		<p:layoutUnit position="center" resizable="false" closable="false"
			maxSize="3050" size="3050" collapsible="false">
			<ui:insert name="conteudo"></ui:insert>

		</p:layoutUnit>

	</p:layout>
</h:body>
</html>